import{W as S,r as I,j as e,y as k}from"./app-ktjZw_DP.js";import{C as F,B as z}from"./Container-WS9zXGFb.js";import{D as p}from"./DangerButton-pourmNTX.js";import{I as A}from"./IconPlus-orMsof8Y.js";import{T as m,I as j}from"./TextInput-y8MHzY5j.js";import{I as i}from"./InputLabel-s0fqiJV1.js";import{M as E}from"./Modal-eUMnwd5V.js";import{P as M}from"./PrimaryButton-uIDfsfAQ.js";import{S as f}from"./SecondaryButton-1SeIaVYe.js";import{A as R}from"./AuthenticatedLayout-vVRDl_6s.js";import"./transition-ZVvPMOig.js";function Q({kriteria:t}){const{data:n,setData:l,patch:v,delete:g,processing:d,errors:u}=S({nama:(t==null?void 0:t.nama)||"",bobot:(t==null?void 0:t.bobot)||"",sub_kriteria:(t==null?void 0:t.sub_kriteria)||[{nama:"",bobot:""}]}),[N,b]=I.useState(!1),y=a=>{a.preventDefault(),v(route("kriteria.update",t))},x=(a,s)=>{const{name:o,value:r}=a.target,c=[...n.sub_kriteria];c[s][o]=r,o==="bobot"&&(c[s][o]=parseFloat(r)),l(K=>({...K,sub_kriteria:c}))},w=()=>{l(a=>({...a,sub_kriteria:[...a.sub_kriteria,{nama:"",bobot:""}]}))},C=a=>{l(s=>({...s,sub_kriteria:s.sub_kriteria.filter((o,r)=>r!==a)}))},B=a=>{a.preventDefault(),b(!0)},h=()=>{b(!1)},D=a=>{a.preventDefault(),g(route("kriteria.destroy",t))},_=a=>{a.preventDefault(),k.visit(route("kriteria.index"))};return e.jsxs(R,{children:[e.jsx(F,{children:e.jsx(z,{children:e.jsx("div",{className:"max-w-2xl p-6 md:p-8",children:e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"nama",value:"Nama"}),e.jsx(m,{id:"nama",name:"nama",value:n.nama,className:"mt-1 block w-full",onChange:a=>l("nama",a.target.value),autoComplete:"nama",isFocused:!0,required:!0}),e.jsx(j,{message:u.nama,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"bobot",value:"Bobot"}),e.jsx(m,{id:"bobot",name:"bobot",value:n.bobot,className:"mt-1 block w-full",autoComplete:"bobot",onChange:a=>l("bobot",a.target.value),required:!0}),e.jsx(j,{message:u.bobot,className:"mt-2"})]}),e.jsx("div",{className:"mt-6",children:e.jsx("h5",{className:"font-semibold text-gray-800",children:"Sub Kriteria --"})}),e.jsx("div",{children:n.sub_kriteria.map((a,s)=>e.jsxs("div",{className:"grid grid-cols-8 gap-x-2 gap-y-4 mb-2",children:[e.jsxs("div",{className:"col-span-5",children:[e.jsx(i,{htmlFor:`${s}-sub-nama`,value:"Nama"}),e.jsx(m,{id:`${s}-sub-nama`,name:"nama",value:a.nama,className:"block mt-1 w-full",onChange:o=>x(o,s)})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(i,{htmlFor:`${s}-item-bobot`,value:"Bobot"}),e.jsx(m,{type:"number",id:`${s}-item-bobot`,name:"bobot",value:a.bobot,className:"block mt-1 w-full",onChange:o=>x(o,s)})]}),e.jsx("div",{className:"col-span-1 flex items-end justify-center",children:e.jsx("button",{type:"button",className:"flex items-center px-3 py-2 text-xs border border-gray-300 text-gray-500 hover:border-transparent hover:bg-red-600 hover:text-white rounded-md transition",onClick:o=>C(s),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:e.jsx("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z",clipRule:"evenodd"})})})})]},s))}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"button",className:"text-white bg-orange-500 hover:bg-orange-600 px-3 py-2 rounded-md transition",onClick:w,children:e.jsx(A,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"flex items-center justify-between mt-10",children:[e.jsx(p,{onClick:a=>B(a),children:"Hapur"}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx(f,{onClick:_,children:"Kembali"}),e.jsx(M,{className:"ml-4",disabled:d,children:"Simpan"})]})]})]})})})}),e.jsx(E,{show:N,onClose:h,children:e.jsxs("form",{onSubmit:D,className:"p-6",children:[e.jsxs("h2",{className:"text-center text-lg font-medium text-gray-700",children:["Yakin untuk menghapus Kriteria"," ",e.jsxs("span",{className:"font-semibold text-gray-900",children:['"',t.nama,'"']})]}),e.jsxs("div",{className:"mt-10 flex justify-between",children:[e.jsx(f,{onClick:h,children:"Batal"}),e.jsx(p,{disabled:d,children:"Hapus Kriteria"})]})]})})]})}export{Q as default};
