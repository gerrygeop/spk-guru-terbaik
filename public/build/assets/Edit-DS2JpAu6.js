import{W as b,r as m,j as e,y}from"./app-ktjZw_DP.js";import{C,B as D}from"./Container-WS9zXGFb.js";import{D as d}from"./DangerButton-pourmNTX.js";import{T as B,I as S}from"./TextInput-y8MHzY5j.js";import{I as c}from"./InputLabel-s0fqiJV1.js";import{M as w}from"./Modal-eUMnwd5V.js";import{P as A}from"./PrimaryButton-uIDfsfAQ.js";import{S as u}from"./SecondaryButton-1SeIaVYe.js";import{S as I}from"./SelectInput-ha9W1V6E.js";import{A as E}from"./AuthenticatedLayout-vVRDl_6s.js";import"./transition-ZVvPMOig.js";function W({alternatif:i,kriteria:x}){const{data:s,setData:r,patch:f,delete:p,processing:n,errors:h}=b({nama:i.nama||"",kriteria:{}}),[j,l]=m.useState(!1);m.useEffect(()=>{const a={};for(const t of i.kriteria)a[t.id]=t.pivot.sub_kriteria_id;r({...s,kriteria:a})},[]);const v=a=>{a.preventDefault();const t={nama:s.nama,kriteria:s.kriteria};f(route("alternatif.update",i),t)},g=a=>{a.preventDefault(),p(route("alternatif.destroy",i))},N=a=>{a.preventDefault(),l(!0)},o=()=>{l(!1)},k=a=>{a.preventDefault(),y.visit(route("alternatif.index"))};return e.jsxs(E,{children:[e.jsx(C,{children:e.jsx(D,{children:e.jsx("div",{className:"max-w-2xl p-6 md:p-8",children:e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"nama",value:"Nama Alternatif"}),e.jsx(B,{id:"nama",name:"nama",value:s.nama,className:"mt-1 block w-full",onChange:a=>r("nama",a.target.value),autoComplete:"nama",isFocused:!0,required:!0}),e.jsx(S,{message:h.nama,className:"mt-2"})]}),e.jsx("div",{className:"mt-10",children:e.jsx("h3",{className:"text-lg text-gray-800 font-semibold",children:"Matriks Penilaian --"})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-2",children:x.map(a=>e.jsxs("div",{className:"col-span-1",children:[e.jsx(c,{htmlFor:a.nama,value:a.nama}),e.jsxs(I,{id:a.nama,name:`kriteria.${a.id}`,className:"mt-1 block w-full",value:s.kriteria[a.id],onChange:t=>r("kriteria",{...s.kriteria,[a.id]:t.target.value}),required:!0,children:[e.jsx("option",{children:"--Pilih--"}),a.sub_kriteria.map(t=>e.jsx("option",{value:t.id,children:t.nama},t.id))]})]},a.id))}),e.jsxs("div",{className:"flex items-center justify-between mt-10",children:[e.jsx(d,{onClick:a=>N(a),children:"Hapus"}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx(u,{onClick:k,children:"Kembali"}),e.jsx(A,{className:"ml-4",disabled:n,children:"Simpan"})]})]})]})})})}),e.jsx(w,{show:j,onClose:o,children:e.jsxs("form",{onSubmit:g,className:"p-6",children:[e.jsxs("h2",{className:"text-center text-lg font-medium text-gray-700",children:["Yakin untuk menghapus Alternatif"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:i.nama})]}),e.jsxs("div",{className:"mt-10 flex justify-between",children:[e.jsx(u,{onClick:o,children:"Batal"}),e.jsx(d,{disabled:n,children:"Hapus Alternatif"})]})]})})]})}export{W as default};
